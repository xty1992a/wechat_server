(window.webpackJsonp=window.webpackJsonp||[]).push([["context_bMap"],{"./src/utils/context/BMap.js":
/*!***********************************!*\
  !*** ./src/utils/context/BMap.js ***!
  \***********************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! babel-runtime/regenerator */ "./node_modules/babel-runtime/regenerator/index.js");\n/* harmony import */ var babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! babel-runtime/helpers/asyncToGenerator */ "./node_modules/babel-runtime/helpers/asyncToGenerator.js");\n/* harmony import */ var babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! babel-runtime/core-js/promise */ "./node_modules/babel-runtime/core-js/promise.js");\n/* harmony import */ var babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! babel-runtime/helpers/extends */ "./node_modules/babel-runtime/helpers/extends.js");\n/* harmony import */ var babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");\n/* harmony import */ var babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");\n/* harmony import */ var babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helper */ "./src/utils/context/helper.js");\n\n\n\n\n\n\n\n\nvar dftOptions = {\n  ak: "AYaM1mMV2BSChZjk9MuPFgCw"\n};\n\nvar BMap = function () {\n  function BMap(options) {\n    babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this, BMap);\n\n    this.$options = babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3___default()({}, dftOptions, options);\n  }\n\n  babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(BMap, [{\n    key: "ready",\n    value: function ready() {\n      var _this = this;\n\n      console.log("is bmap ready");\n      return new babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_2___default.a(function () {\n        var _ref = babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(resolve) {\n          return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!_this.map) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt("return", resolve(true));\n\n                case 2:\n                  _context.next = 4;\n                  return _this.init();\n\n                case 4:\n                  console.log("bmap ready", _this.map);\n                  resolve(true);\n\n                case 6:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee, _this);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: "init",\n    value: function init() {\n      var _this2 = this;\n\n      return new babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_2___default.a(function () {\n        var _ref2 = babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(resolve) {\n          return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  window.__getpositionbybaidumaploaded__ = function () {\n                    window.__getpositionbybaidumaploaded__ = null;\n                    _this2.map = window.BMap;\n                    resolve();\n                  };\n                  _helper__WEBPACK_IMPORTED_MODULE_6__["loadModule"]("http://api.map.baidu.com/api?v=2.0&ak=" + _this2.$options.ak + "&callback=__getpositionbybaidumaploaded__");\n\n                case 2:\n                case "end":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, _this2);\n        }));\n\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: "getLocation",\n    value: function getLocation() {\n      var _this3 = this;\n\n      return new babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_2___default.a(function (resolve) {\n        var geolocation = new _this3.map.Geolocation();\n        geolocation.getCurrentPosition(function (res) {\n          var _res$point = res.point,\n              lng = _res$point.lng,\n              lat = _res$point.lat;\n\n          resolve({\n            success: true,\n            data: {\n              latitude: lat,\n              longitude: lng\n            },\n            result: res\n          });\n        }, function (err) {\n          resolve({\n            success: false,\n            data: err,\n            message: err.mf,\n            result: null\n          });\n        });\n      });\n    }\n  }]);\n\n  return BMap;\n}();\n\n/* harmony default export */ __webpack_exports__["default"] = (BMap);\n\n//# sourceURL=webpack:///./src/utils/context/BMap.js?')}}]);